From 7abd75011313b4b30a15b5af78299a58f27d7644 Mon Sep 17 00:00:00 2001
From: Rolando Espinoza <rndmax84@gmail.com>
Date: Wed, 1 Mar 2017 16:28:11 -0300
Subject: [PATCH 2/3] Disable boost quadmath

Pystan passes its own flags to compile its models. If we don't disable
float128 explicitly then boost attempts to load quadmath.h header file.
---
 pystan/model.py | 1 +
 setup.py        | 1 +
 2 files changed, 2 insertions(+)

diff --git a/pystan/model.py b/pystan/model.py
index af124a4..0249cdf 100644
--- a/pystan/model.py
+++ b/pystan/model.py
@@ -270,6 +270,7 @@ class StanModel:
             ('BOOST_RESULT_OF_USE_TR1', None),
             ('BOOST_NO_DECLTYPE', None),
             ('BOOST_DISABLE_ASSERTS', None),
+            ('BOOST_MATH_DISABLE_FLOAT128', None),
             ('EIGEN_NO_DEBUG', None),
         ]
         # compile stan models with optimization (-O2)
diff --git a/setup.py b/setup.py
index a40c3ca..21e83f6 100644
--- a/setup.py
+++ b/setup.py
@@ -106,6 +106,7 @@ stan_macros = [
     ('BOOST_RESULT_OF_USE_TR1', None),
     ('BOOST_NO_DECLTYPE', None),
     ('BOOST_DISABLE_ASSERTS', None),
+    ('BOOST_MATH_DISABLE_FLOAT128', None),
     ('EIGEN_NO_DEBUG', None),
 ]
 extra_compile_args = [
-- 
2.6.2

